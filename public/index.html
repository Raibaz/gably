<!doctype html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Gab.ly</title>
    <meta name="description" content="A super duper url shortner">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://unpkg.com/minireset.css@0.0.3/minireset.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fredoka+One|Open+Sans" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <main class="main">
        <header class="main__header">
            <h1 class="main__title color__blue-500">
                Gab.
                <span class="color__orange-500">ly</span>
            </h1>

            <h2 class="main__subtitle color__gray-500">
                make it short, pls.
            </h2>
        </header>

        <section class="shorten-url">
            <form class="shorten-url__form">
                <input id="shorten-url" class="shorten-url__input" name="url" value="" type="url" placeholder="Paste a link to shorten it"
                    autocomplete="off" autocorrect="off" autocapitalize="off" required>

                <button type="submit" class="btn btn--primary shorten-url__submit">
                    Shorten
                </button>
            </form>

            <div class="shorten-url__results">
                <ul class="results">
                    <li class="results__item">
                        <article class="result">
                            <h3 class="result__original">
                                <a href="http://www.google.it" title="Google.it" class="link color__gray-500">
                                    http://www.google.it
                                </a>
                            </h3>
                            <h4 class="result__short">
                                <a href="" title="" class="link color__orange-500">
                                    http://gab.ly/xyz
                                </a>
                            </h4>
                            <button class="result__copy">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" version="1" viewBox="0 0 1024 1280" width="30" height="30"><path d="M384 0h427q53 0 90 37t38 91v597q0 53-38 91t-90 37H384q-53 0-91-37t-37-91V128q0-53 37-91t91-37zM171 178v718q0 18 12 30t30 13h548q-14 37-47 61t-74 24H213q-53 0-90-37t-38-91V299q0-42 24-75t62-46zm640-93H384q-18 0-30 13t-13 30v597q0 18 13 31t30 12h427q17 0 30-12t12-31V128q0-18-12-30t-30-13z"/></svg>
                            </button>
                        </article>
                    </li>
                </ul>
            </div>
        </section>
    </main>

    <script>
            document.addEventListener('DOMContentLoaded', () => {
                console.log('ready');

                (() => {
                    const form = document.querySelector('.shorten-url__form');
                    const input = form.querySelector('.shorten-url__input');

                    form.addEventListener('submit', e => {
                        e.preventDefault();

                        const url = input.value;

                        console.log(input.value);

                        window.fetch('/shorten', {
                            method: 'POST',
                            headers: {
                                'Content-type': 'application/json'
                            },
                            body: JSON.stringify({
                                url
                            })
                        });
                    });
                })();
            });
    </script>
</body>

</html>